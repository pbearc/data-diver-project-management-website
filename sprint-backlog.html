<!DOCTYPE html>
<html>
  <head>
    <title>Scrum board</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <script type="module" src="sprint-backlog.js"></script>
    <script src="sidebar.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Add these in the <head> section -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker@3.1.0/daterangepicker.css" />
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker@3.1.0/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker@3.1.0/daterangepicker.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body style="background-color: #e9c6d8">
    <!-- the following implementation of sidebar is from w3schools: https://www.w3schools.com/w3css/tryit.asp?filename=tryw3css_sidebar_shift -->
    <div class="w3-sidebar w3-bar-block w3-card w3-animate-left" id="mySidebar">
      <button class="w3-bar-item w3-button w3-large" onclick="w3_close()">
        Close &times;
      </button>
      <a href="product-backlog.html" class="w3-bar-item w3-button"
        >Product Backlog</a
      >
      <a href="scrum-board.html" class="w3-bar-item w3-button">Scrum Board</a>
      <a href="sprint-history.html" class="w3-bar-item w3-button"
        >Sprint History</a
      >
    </div>

    <div id="main">
      <div class="nav-container">
        <button id="openNav" class="w3-button w3-xlarge" onclick="w3_open()">
          &#9776;
        </button>
        <div class="w3-container"></div>
        <div class="container">
          <div
            class="col-md-12 d-flex justify-content-between align-items-center nav-links"
          >
            <div class="col-md-6">
              <div class="logo-container">
                <img src="assets/logo.png" alt="Data Diver Logo" class="logo" />
                <h1 class="brand">Data Diver</h1>
              </div>
            </div>
            <div class="col-md-6">
              <ul class="nav nav-tabs justify-content-end">
                <li class="nav-item">
                  <a class="nav-link" href="#">Change Password</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Log Out</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Account</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- <script>
        function w3_open() {
          document.getElementById("main").style.marginLeft = "20%";
          document.getElementById("mySidebar").style.width = "20%";
          document.getElementById("mySidebar").style.display = "block";
          document.getElementById("openNav").style.display = "none";
        }

        function w3_close() {
          document.getElementById("main").style.marginLeft = "0%";
          document.getElementById("mySidebar").style.display = "none";
          document.getElementById("openNav").style.display = "inline-block";
        }

        // Open the sidebar by default
        w3_open();
      </script> -->
      
      <div class="container">
        <div class="row mt-0">
          <div class="col-md-6">
            <h4>Sprint Name:</h4>
            <input type="text" id="sprintNameInput" class="form-control" placeholder="Enter Sprint Name">
          </div>
          <div class="col-md-6">
            <h4>Start date:</h4>
            <input type="date" id="startDateInput" class="form-control" placeholder="Enter Start Date">
          </div>
          <div class="col-md-6 offset-md-6">
            <h4>End date</h4>
            <input type="date" id="endDateInput" class="form-control" placeholder="Enter End Date">
          </div>
        </div>
        <button id="saveButton" class="btn btn-primary">Save</button>

        <div class="row mt-4">
          <div class="col-md-3">
            <div class="task-column-container">
              <div class="task-column" id="column1">
                <div class="column-title">Not Started</div>
                <select id="taskDropdown"></select>
                <!-- Button to add selected task to column1 -->
                <button id="addButton">Add Task</button>
                <!-- Add tasks for Sprint Backlog here -->
                <div id="taskContainer1">
                  <!-- Add taskContainer here -->
                  <!-- Add tasks for Sprint Backlog here -->
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-3">
            <button id="plotButton">Plot Story Points</button>
            <div class="task-column-container">
              <div class="task-column" id="column2">
                <div class="column-title">In Progress</div>
                <!-- Add tasks for Sprint Backlog here -->
                <div id="taskContainer2">
                  <!-- Add taskContainer here -->
                  <!-- Add tasks for Sprint Backlog here -->
                </div>
              </div>
            </div>
          </div>

          <div class="col-md-3">
            <div class="task-column-container">
              <div class="task-column" id="column3">
                <div class="column-title">Completed</div>
                <!-- Add tasks for Sprint Backlog here -->
                <div id="taskContainer3">
                  <!-- Add taskContainer here -->
                  <!-- Add tasks for Sprint Backlog here -->
                </div>
              </div>
            </div>
          </div>
          <div id="deleteArea" class="delete-area">Drop here to delete</div>
        </div>

        <!-- Floating window for task details -->
        <div id="taskDetailsWindow" class="task-view-window task-details">
          <div id="taskDetailsContent"></div>
          <div class="edit-buttons">
            <div class="btn-group">
              <button id="showEffortChartButton">Accumulation of Effort Chart</button>
              <button id="editLogButton" class="btn btn-primary">
                Edit Log
              </button>
              <button id="closeTaskDetails" class="btn btn-secondary">
                Close
              </button>
            </div>
          </div>
        </div>

        <!-- Add this to your HTML -->
        <div id="effortChartModal" class="modal">
          <div class="modal-content">
            <span class="close" id="closeEffortChart">&times;</span>
            <canvas id="effortChartCanvas"></canvas>
          </div>
        </div>

        <!-- Floating window for editing task logs -->
        <div id="editTaskLogWindow" class="task-view-window task-edit-log">
          <div id="editTaskLogContent" class="edit-content">
            <div class="edit-title">
              <h3>Edit Task Log</h3>
            </div>
            <div class="edit-options">
              <div class="edit-option">
                <label for="taskSelected" class="label-width"> Task </label>
                <input type="text" id="taskSelected" disabled />
              </div>
              <div class="edit-option">
                <label for="teamMember" class="label-width">
                  Team Member:
                </label>
                <input type="text" id="teamMember" disabled />
              </div>
              <div class="edit-option">
                <label for="logDate" class="label-width"> Date: </label>
                <input type="date" id="logDate" value="" />
              </div>
              <div class="edit-option">
                <label for="timeSpent" class="label-width"> Time Spent: </label>
                <div id="timeSpentSlider" class="slider-row">
                  <input
                    type="number"
                    id="hours"
                    min="0"
                    max="23"
                    step="1"
                    value="0"
                  />
                  <label for="hours" class="unit-label"> Hour </label>
                  <input
                    type="number"
                    id="minutes"
                    min="0"
                    max="59"
                    step="1"
                    value="0"
                  />
                  <label for="minutes" class="unit-label"> Minute </label>
                </div>
              </div>
            </div>
            <br />
            <div class="edit-buttons">
              <div class="btn-group">
                <button id="saveLogButton" class="btn btn-primary">Save</button>
                <button id="cancelLogButton" class="btn btn-secondary">
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>
        <!-- Content for the new page goes here -->
      </div>
    </div>
  </body>
</html>
